<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="7e47ed9b-0ca3-42c1-b103-0f4fba9c32ee">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="tablaReporte1" uuid="7dcfe873-80e3-42f7-bc10-f399c52f2e8a">
		<parameter name="nom_caj" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="cod_caj" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="apel_caj" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select
ROW_NUMBER() OVER (ORDER BY DET.Cabecera_Fac_num_factura) AS ITEM, 
PROD. nombre_prod, DET.Productos_codigo_prod, DET.cantidad, PROD.valventa_prod, (PROD.valventa_prod*DET.cantidad) as Valor_total
from cajeros CAJ JOIN cabecera_fac CAB ON CAJ.codigo_caj=CAB.Cajeros_codigo_caj JOIN detalle_fac DET ON CAB.num_factura=DET.Cabecera_Fac_num_factura JOIN productos PROD ON DET.Productos_codigo_prod=PROD.codigo_prod
WHERE codigo_caj=$P{cod_caj} or (nombre_caj like $P{nom_caj} and apellido_caj like $P{apel_caj});]]>
		</queryString>
		<field name="ITEM" class="java.math.BigInteger"/>
		<field name="nombre_prod" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="Productos_codigo_prod" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="cantidad" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="valventa_prod" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="Valor_total" class="java.math.BigDecimal"/>
	</subDataset>
	<queryString language="SQL">
		<![CDATA[select * from cajeros;]]>
	</queryString>
	<field name="codigo_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="apellido_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ci_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="telefono_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="email_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="direccion_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="password_caj" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="Administradores_codigo_admin" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="80" splitType="Stretch">
			<printWhenExpression><![CDATA[$V{REPORT_COUNT}==1]]></printWhenExpression>
			<componentElement>
				<reportElement key="table 2" style="table 2" x="0" y="0" width="540" height="80" uuid="709e8b5c-0854-4fcc-94c6-b386f5a0c97c"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="tablaReporte1" uuid="ff73757e-b519-41b5-8dcd-09ab15e10ae7">
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="19629482-be8d-4ccb-8e67-0f7c8b38f9e0">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="520a5fbd-c9fa-45a1-8766-7026b671fd1d"/>
								<text><![CDATA[ITEM]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="44af4313-853e-438d-9e48-43fd75e3797b"/>
								<textFieldExpression><![CDATA[$F{ITEM}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="f9230ad1-fda8-4861-a65f-7bf01bff12c7">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="0814b25f-b2d5-4db2-8e2c-fc19b99d4ce0"/>
								<text><![CDATA[nombre_prod]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="34dd0348-d3fb-41bf-a4fd-bcdfbbf2d11a"/>
								<textFieldExpression><![CDATA[$F{nombre_prod}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="3c41c3b1-864d-4d67-b7f9-feaa50ae66c7">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="ffe8077f-c3a3-46fc-aae3-036444b15de4"/>
								<text><![CDATA[Productos_codigo_prod]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="a6214c6d-e11b-4f18-8536-9849ba1ed4ae"/>
								<textFieldExpression><![CDATA[$F{Productos_codigo_prod}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="9d7fc592-6767-4613-8bd6-7bea8cbd8cb8">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="a74ed910-21ea-442b-9099-19ab705064ed"/>
								<text><![CDATA[cantidad]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="e1647cd7-b207-46f3-900e-11337cbce687"/>
								<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="e2b061a1-6abb-408d-ab87-2deaecf175a5">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="64146a56-4622-4eca-8899-d9979b80832f"/>
								<text><![CDATA[valventa_prod]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="65ca58cd-edc2-42f2-95d0-36f1f9b56562"/>
								<textFieldExpression><![CDATA[$F{valventa_prod}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="26b6c913-fe55-4dde-9f2f-576e5ff504bb">
						<jr:columnHeader style="table 2_CH" height="30">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="7d6e20a0-d01f-4222-adf8-7344f22269b5"/>
								<text><![CDATA[Valor_total]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter style="table 2_CH" height="30"/>
						<jr:detailCell style="table 2_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="95f4605e-3336-45f9-a26b-c57463584421"/>
								<textFieldExpression><![CDATA[$F{Valor_total}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
</jasperReport>
